/*! For license information please see 80.js.LICENSE.txt */
"use strict";(self.webpackChunkregistro=self.webpackChunkregistro||[]).push([[80],{80:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var s=t(85),a=t(674),n=t(615);const i=["Seminario sobre IA","Taller de Programación Competitiva","Iniciación a la Programación"],l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,o={"Seminario sobre IA":"indigo","Taller de Programación Competitiva":"emerald","Iniciación a la Programación":"amber"},c=()=>{try{return JSON.parse(localStorage.getItem("registros")||"[]")}catch{return[]}},m=e=>localStorage.setItem("registros",JSON.stringify([...c(),e]));function d({config:e}){const[r,t]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,x]=(0,a.useState)([]),[b,h]=(0,a.useState)({}),[f,p]=(0,a.useState)(null),g=(0,a.useRef)(null),[j,y]=(0,a.useState)({}),v=(0,a.useMemo)(()=>({nombre:r.trim()?null:"El nombre es obligatorio.",email:c.trim()?l.test(c)?null:"Introduce un email válido.":"El email es obligatorio.",sesiones:!e?.showSessionSelector||u.length?null:"Selecciona al menos una sesión."}),[r,c,u,e]),N=Object.values(v).some(Boolean);(0,a.useEffect)(()=>{if(f){const e=setTimeout(()=>p(null),2500);return()=>clearTimeout(e)}},[f]);const S=(e,r)=>{r&&!g.current&&(g.current=e)};return e?(0,s.jsx)("section",{className:"min-h-dvh flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-1 text-center text-[color:var(--primary)]",children:"Registro de asistentes"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Completa los campos marcados con *"}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),h({nombre:!0,email:!0,sesiones:!0}),N)return void g.current?.focus();const s={id:crypto.randomUUID(),nombre:r.trim(),email:c.trim(),sesiones:[...u],fecha:(new Date).toISOString()};m(s),p("Registro completado."),t(""),d(""),x([]),h({}),y({})},className:"space-y-5 mt-4",noValidate:!0,"aria-describedby":"form-status",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)(n.JU,{htmlFor:"nombre",children:["Nombre ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)(n.pd,{id:"nombre",placeholder:"Tu nombre",value:r,onBlur:()=>h(e=>({...e,nombre:!0})),onChange:e=>t(e.target.value),ref:e=>S(e,!(!b.nombre||!v.nombre)),"aria-invalid":!(!b.nombre||!v.nombre),"aria-describedby":b.nombre&&v.nombre?"err-nombre":void 0}),b.nombre&&v.nombre?(0,s.jsx)(n.bg,{id:"err-nombre",children:v.nombre}):(0,s.jsx)(n._V,{children:"Como aparece en tu acreditación."})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)(n.JU,{htmlFor:"email",children:["Email ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)(n.pd,{id:"email",type:"email",placeholder:"tu@email.com",autoComplete:"email",value:c,onBlur:()=>h(e=>({...e,email:!0})),onChange:e=>d(e.target.value),ref:e=>S(e,!(!b.email||!v.email)),"aria-invalid":!(!b.email||!v.email),"aria-describedby":b.email&&v.email?"err-email":void 0}),b.email&&v.email?(0,s.jsx)(n.bg,{id:"err-email",children:v.email}):(0,s.jsx)(n._V,{children:"Usaremos este email para confirmar tu plaza."})]}),e?.extraFields?.map(e=>(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)(n.JU,{htmlFor:e.name,children:[e.label," ",e.required&&(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)(n.pd,{id:e.name,name:e.name,type:e.type,required:e.required,value:j[e.name]||"",onChange:r=>y(t=>({...t,[e.name]:r.target.value}))})]},e.name)),e?.showSessionSelector&&(0,s.jsxs)("fieldset",{className:"rounded-2xl px-4 py-4 border "+(b.sesiones&&v.sesiones?"border-red-500":"border-gray-300"),children:[(0,s.jsxs)("legend",{className:"px-1 text-sm font-medium text-center",children:["Lista de conferencias ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center items-center gap-4",children:i.map(e=>(0,s.jsx)(n.hs,{label:e,checked:u.includes(e),color:o[e],onChange:()=>x(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e]),onBlur:()=>h(e=>({...e,sesiones:!0}))},e))}),b.sesiones&&v.sesiones?(0,s.jsx)("p",{className:"text-red-600 text-xs mt-2 text-center",children:v.sesiones}):(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Selecciona una o más a las que asistir."})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,s.jsx)(n.$n,{type:"submit",disabled:N&&Object.keys(b).length>0,children:"Enviar"}),(0,s.jsx)("button",{type:"button",className:"border px-4 py-2 rounded text-sm",onClick:()=>{t(""),d(""),x([]),h({}),y({})},children:"Limpiar"})]}),(0,s.jsx)("div",{id:"form-status",className:"sr-only","aria-live":"polite",children:f?"Registro completado":""})]}),f&&(0,s.jsx)("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white rounded px-4 py-2 shadow",children:f})]})}):(0,s.jsx)("p",{children:"Condig. no disponible"})}},85:(e,r,t)=>{e.exports=t(335)},335:(e,r,t)=>{var s=t(674),a=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function o(e,r,t){var s,o={},c=null,m=null;for(s in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(m=r.ref),r)n.call(r,s)&&!l.hasOwnProperty(s)&&(o[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===o[s]&&(o[s]=r[s]);return{$$typeof:a,type:e,key:c,ref:m,props:o,_owner:i.current}}r.jsx=o,r.jsxs=o},357:(e,r,t)=>{function s(e){var r,t,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(t=s(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,r,t=0,a="",n=arguments.length;t<n;t++)(e=arguments[t])&&(r=s(e))&&(a&&(a+=" "),a+=r);return a}t.d(r,{$:()=>a})},615:(e,r,t)=>{t.d(r,{$n:()=>c,JU:()=>l,_V:()=>m,bg:()=>d,hs:()=>u,pd:()=>o});var s=t(85),a=t(674),n=t.n(a),i=t(357);function l({htmlFor:e,children:r}){return(0,s.jsx)("label",{htmlFor:e,className:"block text-sm mb-1 font-medium text-center",children:r})}const o=n().forwardRef(function(e,r){const{className:t,...a}=e;return(0,s.jsx)("input",{ref:r,...a,className:`w-72 mx-auto border rounded px-3 py-2 outline-none transition focus:ring-2 focus:ring-black/50 focus:border-black border-gray-300 ${t||""}`})}),c=n().forwardRef(function(e,r){const{className:t,disabled:a,...n}=e;return(0,s.jsx)("button",{ref:r,...n,className:`inline-flex items-center justify-center rounded px-4 py-2 transition ${a?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-black text-white hover:bg-black/90"} ${t||""}`})});function m({children:e}){return(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e})}function d({children:e,id:r}){return(0,s.jsx)("p",{id:r,role:"alert",className:"text-xs text-red-600 mt-1",children:e})}function u({label:e,checked:r,onChange:t,onBlur:a,color:n}){const l=(0,i.$)({"bg-indigo-100 hover:bg-indigo-200":"indigo"===n&&!r,"bg-emerald-100 hover:bg-emerald-200":"emerald"===n&&!r,"bg-amber-100 hover:bg-amber-200":"amber"===n&&!r,"bg-indigo-300":"indigo"===n&&r,"bg-emerald-300":"emerald"===n&&r,"bg-amber-300":"amber"===n&&r});return(0,s.jsxs)("label",{className:(0,i.$)("rounded-lg text-sm text-gray-900 transition-colors text-center border w-44 h-24 flex items-center justify-center cursor-pointer select-none",l,"m-2"),children:[(0,s.jsx)("input",{type:"checkbox",className:"sr-only",checked:r,onChange:t,onBlur:a,"aria-checked":r}),(0,s.jsx)("div",{className:"font-semibold",children:e})]})}}}]);
//# sourceMappingURL=80.js.map